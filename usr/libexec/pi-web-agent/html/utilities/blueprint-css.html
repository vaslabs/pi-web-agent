<script src="/css/jquery-1.10.2.min.js"></script>
<script src="/css/bootstrap.min.js"></script>
<script src="/css/bootswatch.js"></script>
<script src="/css/jquery.tools.min.js"></script>
<link rel="stylesheet" href="/css/blueprint/screen.css" type="text/css" media="screen, projection">
<link href="/css/bootstrap.css" rel="stylesheet" type="text/css">
<link href="/css/installUninstallSwitch.css" rel="stylesheet" type="text/css">
     
<!--[if lt IE 8]>
  <link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection">
<![endif]-->

<script language="Javascript" type="text/javascript" src="/css/editarea_0_8_2/edit_area/edit_area_full.js"></script>
<script language="Javascript" type="text/javascript">
	
	editAreaLoader.init({
		id: "text_editor"	// id of the textarea to transform	
		,start_highlight: true
    	,allow_toggle: true
    	,language: "en"
		,syntax: "html"	
		,toolbar: "new_document, save, load, |, charmap, |, search, go_to_line, |, undo, redo, |, select_font, |, syntax_selection, |, change_smooth_selection, highlight, reset_highlight, |, help"
		,syntax_selection_allow: "css,html,js,php,python,vb,xml,c,cpp,sql,basic,pas,brainfuck"
		,is_multi_files: true
		,EA_load_callback: "editAreaLoaded"
		,show_line_colors: true
        ,replace_tab_by_spaces: 4
		,plugins: "charmap"
		,charmap_default: "arrows"
	});
		
	// callback functions
	function my_save(id, content){
		alert("Here is the content of the EditArea '"+ id +"' as received by the save callback function:\n"+content);
	}
	
	function my_load(id){
		editAreaLoader.setValue(id, "The content is loaded from the load_callback function into EditArea");
	}
	
	function test_setSelectionRange(id){
		editAreaLoader.setSelectionRange(id, 100, 150);
	}
	
	function test_getSelectionRange(id){
		var sel =editAreaLoader.getSelectionRange(id);
		alert("start: "+sel["start"]+"\nend: "+sel["end"]); 
	}
	
	function test_setSelectedText(id){
		text= "[REPLACED SELECTION]"; 
		editAreaLoader.setSelectedText(id, text);
	}
	
	function test_getSelectedText(id){
		alert(editAreaLoader.getSelectedText(id)); 
	}
	
	function editAreaLoaded(id){
		if(id=="example_2")
		{
			open_file1();
			open_file2();
		}
	}
	
	function open_file1()
	{
		var new_file= {id: "to\\ é # € to", text: "$authors= array();\n$news= array();", syntax: 'php', title: 'beautiful title'};
		editAreaLoader.openFile('example_2', new_file);
	}
	
	function open_file2()
	{
		var new_file= {id: "Filename", text: "<a href=\"toto\">\n\tbouh\n</a>\n<!-- it's a comment -->", syntax: 'html'};
		editAreaLoader.openFile('example_2', new_file);
	}
	
	function close_file1()
	{
		editAreaLoader.closeFile('example_2', "to\\ é # € to");
	}
	
	function toogle_editable(id)
	{
		editAreaLoader.execCommand(id, 'set_editable', !editAreaLoader.execCommand(id, 'is_editable'));
	}

</script>


<script type="text/javascript">
function submit_package(element) {
    var url='/cgi-bin/toolkit/installUninstallPackage.py?packageName='+element.name+'&action=';
    
    var param2='install';
    if (element.checked)
    {
       param2='uninstall';
    }
    url+= param2;   
 	toggleOverlay();
    var info=getPackageResponse(url);
    toggleOverlay();

}

function toggleOverlay(){
//    open_iptables_panel('12')
    var overlay = document.getElementById('overlay');
    overlay.style.opacity = .8;
    if(overlay.style.display == "block"){
        overlay.style.display = "none";
    } else {
        overlay.style.display = "block";
    }
}

function getPackageResponse(url) {
    var remote;

    $.ajax({
        type: "GET",
        url: url,
        async: false,
        success : function(data) {
            remote = data;
        }
    });

    return remote;
    
    //return value;
}

function submitProtocolRule(){
    $("#addRuleID").submit(function(){
        alert("eimai dame");
        var chain='Forward';
        var actionElement = document.getElementById("selectAction");
        var action = actionElement.options[actionElement.selectedIndex].value;
        var protocolElement = document.getElementById("selectProtocol");
        var protocol = protocolElement.options[protocolElement.selectedIndex].value;
        getIPTableValues( chain, action, protocol);
    });
}

function getIPTableValues(chain, action, protocol) {
    var remote;
    var url='/cgi-bin/toolkit/add_iptable_rules?chain='+chain+'&action='+action+'&protocol='+protocol;
    $.ajax({
        type: "GET",
        url: url,
        async: false,
        success : function(data) {
            remote = data;
        }
    });

    return remote;
    
    //return value;
}

</script>
<style type="text/css">
div#overlay {
    display: none;
    z-index: 2;
    background: #000;
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0px;
    left: 0px;
    text-align: center;
}

/* toolbar buttons (inspired from tinyMCE ones)*/
.editAreaButtonNormal, .editAreaButtonOver, .editAreaButtonDown, .editAreaSeparator, .editAreaSeparatorLine, .editAreaButtonDisabled, .editAreaButtonSelected {
	border: 0px; margin: 0px; padding: 0px; background: transparent;
	margin-top: 0px;
	margin-left: 1px;
	padding: 0px;
}

.editAreaButtonNormal {
	border: 1px solid #ECE9D8 !important;
	cursor: pointer;
}

.editAreaButtonOver {
	border: 1px solid #0A246A !important;
	cursor: pointer;
	background-color: #B6BDD2;
}

.editAreaButtonDown {
	cursor: pointer;
	border: 1px solid #0A246A !important;
	background-color: #8592B5;
}

.editAreaButtonSelected {
	border: 1px solid #C0C0BB !important;
	cursor: pointer;
	background-color: #F4F2E8;
}

.editAreaButtonDisabled {
	filter:progid:DXImageTransform.Microsoft.Alpha(opacity=30);
	-moz-opacity:0.3;
	opacity: 0.3;
	border: 1px solid #F0F0EE !important;
	cursor: pointer;
}

.editAreaSeparatorLine {
	margin: 1px 2px;
	background-color: #C0C0BB;
	width: 2px;
	height: 18px;
}		

</style>
<style type="text/css">
 #ip_overlay {
 
    /* overlay is hidden before loading */
    display:none;
 
    /* standard decorations */
    width:400px;
    border:10px solid #666;
 
    /* for modern browsers use semi-transparent color on the border. nice! */
    border:10px solid rgba(82, 82, 82, 0.698);
 
    /* hot CSS3 features for mozilla and webkit-based browsers (rounded borders) */
    -moz-border-radius:8px;
    -webkit-border-radius:8px;
  }
 
  #ip_overlay div {
    padding:10px;
    border:1px solid #3B5998;
    background-color:#fff;
    font-family:"lucida grande",tahoma,verdana,arial,sans-serif
  }
 
  #ip_overlay h2 {
    margin:-11px;
    margin-bottom:0px;
    color:#fff;
    background-color:#6D84B4;
    padding:5px 10px;
    border:1px solid #3B5998;
    font-size:20px;
  }
</style>
